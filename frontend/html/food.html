<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>飲食紀錄系統</title>
  <link rel="stylesheet" href="/assets/styles.css" />
  <link rel="stylesheet" href="/assets/food.css" />
  <script src="/assets/auth.js" defer></script>
  <script src="/assets/food.js" defer></script>
  <script src="/assets/login_button.js" defer></script>
</head>
<body>
  <header>
    <h1>🥗 飲食紀錄系統</h1>
    <nav>
      <ul>
        <li><a href="/index.html">首頁</a></li>
        <li><a href="/about.html">關於我</a></li>
        <li><a href="/projects.html">功能展示</a></li>
        <li><a href="/skills.html">技能介紹</a></li>
        <li><a href="/contact.html">聯絡方式</a></li>
      </ul>
    </nav>
    <div class="auth-buttons">
      <button id="profile-btn" onclick="goToProfile()" style="display:none;">個人資料</button>
      <button id="login-btn" onclick="goToLogin()">登入</button>
      <button id="logout-btn" onclick="logout()" style="display:none;">登出</button>
    </div>
  </header>

  <main class="food-container">
    <section class="food-card" style="text-align: right;">
      <button id="open-add-modal" style="padding: 10px 20px; font-size: 16px;">➕ 新增飲食紀錄</button>
    </section>

    <!-- Modal 彈窗表單 -->
    <div id="food-modal" class="modal">
      <div class="modal-content">
        <span class="close" id="close-modal">&times;</span>
        <h2>🍱 新增飲食紀錄</h2>
        <form id="food-form" class="modal-form">
          <label>食物名稱：</label>
          <input type="text" id="name" required />

          <label>熱量 (kcal)：</label>
          <input type="number" id="calories" step="0.1" />

          <label>蛋白質 (g)：</label>
          <input type="number" id="protein" step="0.1" />

          <label>脂肪 (g)：</label>
          <input type="number" id="fat" step="0.1" />

          <label>碳水 (g)：</label>
          <input type="number" id="carbs" step="0.1" />

          <label>份量描述：</label>
          <input type="text" id="quantity" />

          <label>記錄日期：</label>
          <input type="date" id="loggedAt" required />

          <button type="submit" style="margin-top: 12px;">✅ 確認新增</button>
        </form>
      </div>
    </div>

    <!-- 顯示表格與篩選 -->
    <section class="food-card">
      <h2>📋 飲食紀錄表</h2>
      <div style="text-align:left;margin-bottom:10px;">
        <label for="date-filter">📅 篩選日期：</label>
        <select id="date-filter">
          <option value="">全部</option>
        </select>
        <span id="summary-text" style="margin-left:20px;"></span>
      </div>
      <table class="food-table">
        <thead>
          <tr>
            <th>日期</th>
            <th>食物</th>
            <th>熱量</th>
            <th>蛋白質</th>
            <th>脂肪</th>
            <th>碳水</th>
            <th>份量</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody id="food-table-body"></tbody>
      </table>
    </section>

    <button type="button" id="export-food-btn">📤 匯出飲食紀錄</button>
  </main>
</body>
</html>
